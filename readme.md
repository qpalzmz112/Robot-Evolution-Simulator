# Final project: Does the number of links in a robot's body correlate with its ability to move?
To run, clone and run `trial.py`. This will run five trials, each with population size and number of generations specified in constants.py. Then, it will generate a graph showing the maximum fitness per generation in each trial. If you want to see the best robot of each trial, uncomment the following code:  
    `#input("Press Enter to continue...")`<br>
    `#phc.Show_Best()`<br>
    `#input("Press Enter to continue...")`<br>
Then, when a trial is done, you will be prompted to press enter to view the best robot. Once this is done you may not see a prompt, but press enter to begin the next trial. To change the maximum number of links a robot can have, edit `maxLinks` in `constants.py`.

## Hypothesis
Robots with more links will move further than robots with few links. The reasoning for this hypothesis comes from the fact that my simulator is very simple. Each joint rotates about one axis, and I expect robots which have links rotating about more axes to move further than robots with links rotating about fewer axes.

## Motivation
This experiment is motivated by an observation made by Professor Kriegman: some of Karl Sims' [robots](https://www.karlsims.com/evolved-virtual-creatures.html) move very well with only a few links constituting their bodies. I'd like to see if my simulator can achieve similar results, or if its simplicity requires robots to have more links than Sims'. For example, here's one of Sims' robots with three links, that moves quite well. <br>
<img src="https://user-images.githubusercontent.com/68213464/225107079-aa0b842a-5888-49d4-828f-cd52540ba080.png" width="250" height="250"> <br>
Here's a robot generated by my program that moves well. As you can see, its body consists of many more than three links. <br>
<img src="https://user-images.githubusercontent.com/68213464/225107097-e67aec52-cebd-45d6-a734-c756cc7d1413.png" width="350" height="250">

From this I hope to contribute to the answers to two questions: "How many parts should make up the body of a robot evolved for locomotion?" and "How do the differences in variety and complexity of random robot bodies affect the robots' ability to move?" In any case, my results will give some insight into the first question. If my hypothesis is correct, it would appear that Sims' more advanced range of robot bodies is capable of generating better robots than my simulator, which would be relevant to the second question. Answering these questions is important to how we design our simulators, and could help avoid unnecessary computational complexity caused by simulating robots with many links.

## Testing the hypothesis
To test the hypothesis I ran four tests, each of which consisted of five simulations beginning with random seeds 1-5, with population size 10 and 500 generations. Across each test, the only variable was the value of `maxLinks` in `constants.py`. This variable specifies the maximum number of links that a robot's body can have. This is enforced by a few brief checks in `genotype.py` to ensure that a robot body has at most `maxLinks` links. I ran the tests with `maxLinks` equal to 3, 5, 7, and 9. 

Each robot's fitness is its distance from the origin (marked with a grey square tile in the videos) when the simulation is done.

## Results
<img src="https://user-images.githubusercontent.com/68213464/225186763-27cd381b-f6e4-4d4d-b020-2ee5cacdc1f3.png" width="450" height="400"> <img src="https://user-images.githubusercontent.com/68213464/225187515-cfece47d-ebba-439a-8fe2-7e1584219027.png" width="450" height="400"> <br>
<img src="https://user-images.githubusercontent.com/68213464/225187527-61507128-9c2b-4f3b-bfe4-47601ef46f48.png" width="450" height="400"> <img src="https://user-images.githubusercontent.com/68213464/225186779-478bb566-decb-4cfd-99e1-d26b59942e57.png" width="450" height="400">

From this data, it isn't clear that the hypothesis is correct. The average fitness of the five best robots for each number of links increases from three to five links, then decreases from five to seven links, and increases again from seven to nine links. However, a bigger issue is that the hypothesis doesn't give any quantitative definition for "more links" or "few links." If we consider three and five links to be "few links" and seven and nine links to be "more links" and combine the two pairs' averages, we see that the average fitness for "few links" is 14.49 and the average fitness for "more links" is 14.5 - basically the same. 

One shortcoming of using a robot's distance from the origin when the simulation ends as its fitness is that some robots move far initially and then get stuck, while others could keep moving forever but are limited by the simulation time. The measurement I used for fitness doesn't consider this nuance. Further, this metric doesn't directly consider speed, although the simulation's limited running time may sometimes implicitly do so.

## Conclusion
I see three major areas in which this experiment is held back: the relative simplicity in the robots my program can generate, the lack of quantitative definition in the hypothesis, and the overly-simplistic measure of robot fitness. If I was to pursue this further I would want to use a program that can generate a wider variety of more advanced robots, make my hypothesis precise, and improve my measure of fitness. 

Maybe Karl Sims' work already answers the question I was asking - his work produced robots with three links that move quite well. However, I'd like to see if more complex robot bodies can move in ways that just aren't possible in bodies with few links.

## How are genotypes mapped to phenotypes?
Here's an example genotype to phenotype mapping: <br>
<img src="https://user-images.githubusercontent.com/68213464/225113561-5952bf95-6eef-48ae-adad-e3f59ee8158c.png" width="650" height="450">

## How are robots selected against each other?
Here's an example: <br>
<img src="https://user-images.githubusercontent.com/68213464/225116248-d2ef2d99-62ac-4389-8310-fcd35e237644.png" width="650" height="450">

## How are bodies and brains generated?
Take a look at [this](https://github.com/qpalzmz112/ludobots/tree/Assignment7#readme) readme.

## How are robots evolved?
Take a look at [this](https://github.com/qpalzmz112/ludobots/tree/Assignment8#readme) readme.

## Sources:
CS 396: Artificial Life at Northwestern University, r/ludobots, and [pyrosim](https://github.com/jbongard/pyrosim).
